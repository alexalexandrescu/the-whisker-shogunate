{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://whisker-shogunate.dev/schemas/profession.schema.json",
  "title": "Profession",
  "description": "Schema for professions, careers, and trades in The Whisker Shogunate",
  "type": "object",
  "required": ["id", "type", "name", "description"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^profession_[a-z0-9_-]+$",
      "description": "Unique identifier for the profession"
    },
    "type": {
      "type": "string",
      "const": "profession",
      "description": "Entity type (always 'profession')"
    },
    "category": {
      "type": "string",
      "enum": [
        "artisan",
        "engineering",
        "medical",
        "agriculture",
        "merchant",
        "services",
        "entertainment",
        "education",
        "military",
        "government",
        "spiritual",
        "transportation",
        "general"
      ],
      "description": "Category of profession"
    },
    "name": {
      "type": "string",
      "description": "Common name of the profession"
    },
    "nameJapanese": {
      "type": "string",
      "description": "Name in Japanese characters"
    },
    "pronunciation": {
      "type": "string",
      "description": "Phonetic pronunciation guide"
    },
    "description": {
      "type": "string",
      "description": "Detailed description of what this profession does"
    },
    "pathStage": {
      "type": "object",
      "description": "Progression stages within this profession",
      "properties": {
        "apprentice": {
          "type": "object",
          "properties": {
            "duration": { "type": "string" },
            "requirements": { "type": "array", "items": { "type": "string" } },
            "responsibilities": { "type": "array", "items": { "type": "string" } }
          }
        },
        "journeyman": {
          "type": "object",
          "properties": {
            "duration": { "type": "string" },
            "requirements": { "type": "array", "items": { "type": "string" } },
            "responsibilities": { "type": "array", "items": { "type": "string" } }
          }
        },
        "master": {
          "type": "object",
          "properties": {
            "requirements": { "type": "array", "items": { "type": "string" } },
            "responsibilities": { "type": "array", "items": { "type": "string" } },
            "privileges": { "type": "array", "items": { "type": "string" } }
          }
        }
      }
    },
    "guild": {
      "type": "string",
      "pattern": "^faction_[a-z0-9_-]+$",
      "description": "Associated guild (if any)"
    },
    "requirements": {
      "type": "object",
      "description": "Requirements to practice this profession",
      "properties": {
        "skills": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Required skills"
        },
        "training": {
          "type": "string",
          "description": "Type and duration of training needed"
        },
        "certifications": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Required certifications or licenses"
        },
        "physicalRequirements": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Physical requirements (size, dexterity, etc.)"
        }
      }
    },
    "income": {
      "type": "object",
      "description": "Typical income ranges",
      "properties": {
        "apprentice": {
          "type": "string",
          "enum": ["very-low", "low", "moderate", "high", "very-high"]
        },
        "journeyman": {
          "type": "string",
          "enum": ["very-low", "low", "moderate", "high", "very-high"]
        },
        "master": {
          "type": "string",
          "enum": ["very-low", "low", "moderate", "high", "very-high"]
        },
        "currency": {
          "type": "string",
          "description": "Payment form (Koban, barter, etc.)"
        }
      }
    },
    "workEnvironment": {
      "type": "object",
      "description": "Typical work conditions",
      "properties": {
        "location": {
          "type": "string",
          "description": "Where work is performed (workshop, outdoors, etc.)"
        },
        "schedule": {
          "type": "string",
          "enum": ["diurnal", "nocturnal", "crepuscular", "variable"],
          "description": "Typical working hours"
        },
        "physicalDemands": {
          "type": "string",
          "enum": ["sedentary", "light", "moderate", "heavy", "very-heavy"]
        },
        "socialInteraction": {
          "type": "string",
          "enum": ["isolated", "minimal", "moderate", "frequent", "constant"]
        }
      }
    },
    "tools": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Tools and equipment commonly used"
    },
    "materials": {
      "type": "array",
      "items": { "type": "string", "pattern": "^material_" },
      "description": "Materials worked with (entity IDs)"
    },
    "produces": {
      "type": "array",
      "items": { "type": "string", "pattern": "^item_" },
      "description": "Items or services produced (entity IDs)"
    },
    "worksWith": {
      "type": "array",
      "items": { "type": "string", "pattern": "^profession_" },
      "description": "Related professions (entity IDs)"
    },
    "locations": {
      "type": "array",
      "items": { "type": "string", "pattern": "^location_" },
      "description": "Typical work locations (entity IDs)"
    },
    "culturalSignificance": {
      "type": "string",
      "description": "Cultural importance and perception"
    },
    "socialStatus": {
      "type": "string",
      "enum": ["very-low", "low", "moderate", "high", "very-high"],
      "description": "Social standing in hierarchy"
    },
    "assets": {
      "type": "object",
      "description": "Visual assets for this profession",
      "properties": {
        "primary": {
          "type": "string",
          "description": "Primary image (tools, workspace)"
        },
        "gallery": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Additional images"
        },
        "diagrams": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Process diagrams, workflow charts"
        },
        "conceptArt": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Artistic renderings"
        }
      }
    },
    "tags": {
      "type": "array",
      "items": { "type": "string" },
      "description": "Searchable tags"
    },
    "gameplayNotes": {
      "type": "string",
      "description": "Notes for game implementation"
    },
    "culturalNotes": {
      "type": "string",
      "description": "Cultural context and traditions"
    },
    "completionPercentage": {
      "type": "number",
      "minimum": 0,
      "maximum": 100,
      "description": "Percentage of entity completion"
    },
    "lastModified": {
      "type": "string",
      "format": "date-time",
      "description": "Last modification timestamp (ISO 8601)"
    },
    "contributors": {
      "type": "array",
      "items": { "type": "string" },
      "description": "List of contributors"
    },
    "status": {
      "type": "string",
      "enum": ["draft", "in-progress", "review", "complete"],
      "description": "Current status of entity"
    },
    "notes": {
      "type": "string",
      "description": "Development notes and TODOs"
    }
  }
}
