{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://whisker-shogunate.com/schemas/location.schema.json",
  "title": "Location",
  "description": "A place in the Whisker Shogunate world (province, city, building, landmark, etc.)",
  "type": "object",
  "required": ["id", "type", "locationType", "name", "description"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^location_[a-z0-9_-]+$",
      "description": "Unique identifier (e.g., location_higashi-hama, location_healer-temple)"
    },
    "type": {
      "type": "string",
      "const": "location",
      "description": "Entity type"
    },
    "locationType": {
      "type": "string",
      "enum": ["province", "city", "town", "village", "district", "building", "landmark", "natural-feature", "region"],
      "description": "Type of location"
    },
    "name": {
      "type": "string",
      "description": "Location name in English"
    },
    "nameJapanese": {
      "type": "string",
      "description": "Japanese name or romanization"
    },
    "pronunciation": {
      "type": "string",
      "description": "Phonetic pronunciation guide"
    },
    "description": {
      "type": "string",
      "minLength": 20,
      "description": "Detailed description of the location"
    },
    "parentLocation": {
      "type": "string",
      "pattern": "^location_[a-z0-9_-]+$",
      "description": "Parent location ID (e.g., province for a city)"
    },
    "childLocations": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^location_[a-z0-9_-]+$"
      },
      "description": "Child location IDs (e.g., cities in a province)"
    },
    "geography": {
      "type": "object",
      "properties": {
        "terrain": {
          "type": "string",
          "description": "Terrain type (coastal, mountainous, forested, etc.)"
        },
        "climate": {
          "type": "string",
          "description": "Climate characteristics"
        },
        "size": {
          "type": "string",
          "description": "Approximate size or area"
        },
        "elevation": {
          "type": "string",
          "description": "Elevation or altitude"
        },
        "waterFeatures": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Rivers, lakes, oceans, etc."
        }
      }
    },
    "architecture": {
      "type": "object",
      "properties": {
        "style": {
          "type": "string",
          "description": "Architectural style or aesthetic"
        },
        "primaryMaterials": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^material_[a-z0-9_-]+$"
          },
          "description": "Primary construction materials"
        },
        "notableFeatures": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Distinctive architectural features"
        },
        "colorPalette": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Dominant colors in the architecture"
        }
      }
    },
    "demographics": {
      "type": "object",
      "properties": {
        "population": {
          "type": "string",
          "description": "Approximate population"
        },
        "nativeVsIsekai": {
          "type": "string",
          "description": "Ratio or description of native vs isekai'd cats"
        },
        "socialClasses": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Predominant social classes present"
        },
        "circadianPreference": {
          "type": "string",
          "description": "Diurnal/nocturnal/crepuscular population distribution"
        }
      }
    },
    "economy": {
      "type": "object",
      "properties": {
        "primaryIndustries": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Main economic activities"
        },
        "exports": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "What this location exports"
        },
        "imports": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "What this location imports"
        },
        "wealthLevel": {
          "type": "string",
          "enum": ["impoverished", "struggling", "comfortable", "prosperous", "wealthy", "elite"],
          "description": "Overall wealth level"
        }
      }
    },
    "culture": {
      "type": "object",
      "properties": {
        "character": {
          "type": "string",
          "description": "Cultural character or vibe"
        },
        "dialect": {
          "type": "string",
          "description": "Regional dialect spoken"
        },
        "localCustoms": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Unique local customs or traditions"
        },
        "festivals": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^event_[a-z0-9_-]+$"
          },
          "description": "Local festivals or events"
        }
      }
    },
    "politics": {
      "type": "object",
      "properties": {
        "governance": {
          "type": "string",
          "description": "How this location is governed"
        },
        "ruler": {
          "type": "string",
          "pattern": "^character_[a-z0-9_-]+$",
          "description": "Current ruler or leader"
        },
        "influentialFactions": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^faction_[a-z0-9_-]+$"
          },
          "description": "Factions with influence here"
        },
        "politicalLeanings": {
          "type": "string",
          "description": "Political orientation (traditional, progressive, etc.)"
        }
      }
    },
    "infrastructure": {
      "type": "object",
      "properties": {
        "whiskerPunk": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^technology_[a-z0-9_-]+$"
          },
          "description": "Whisker-Punk technologies present"
        },
        "transportation": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Transportation methods available"
        },
        "utilities": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Utilities available (power, water, etc.)"
        }
      }
    },
    "notableLocations": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^location_[a-z0-9_-]+$"
      },
      "description": "Landmarks or important sub-locations"
    },
    "notableCharacters": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^character_[a-z0-9_-]+$"
      },
      "description": "Important NPCs associated with this location"
    },
    "historicalEvents": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^event_[a-z0-9_-]+$"
      },
      "description": "Significant historical events that occurred here"
    },
    "connections": {
      "type": "object",
      "properties": {
        "connectedLocations": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "locationId": {
                "type": "string",
                "pattern": "^location_[a-z0-9_-]+$"
              },
              "distance": {
                "type": "string",
                "description": "Distance in km or descriptive"
              },
              "travelTime": {
                "type": "string",
                "description": "Travel time"
              },
              "method": {
                "type": "string",
                "description": "Primary travel method"
              },
              "difficulty": {
                "type": "string",
                "enum": ["easy", "moderate", "difficult", "very-difficult"]
              }
            }
          }
        },
        "tradeRoutes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Major trade routes passing through"
        }
      }
    },
    "assets": {
      "type": "object",
      "properties": {
        "primary": {
          "type": "string",
          "description": "Primary representative image"
        },
        "gallery": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "maps": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Maps of this location"
        },
        "conceptArt": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "diagrams": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "screenshots": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "In-game screenshots if available"
        }
      }
    },
    "atmosphere": {
      "type": "object",
      "properties": {
        "visualDesign": {
          "type": "string",
          "description": "Art direction and visual mood"
        },
        "soundscape": {
          "type": "string",
          "description": "Ambient sounds and music themes"
        },
        "dayNightChanges": {
          "type": "string",
          "description": "How location changes between day/night"
        },
        "seasonalChanges": {
          "type": "string",
          "description": "Seasonal variations"
        }
      }
    },
    "gameplay": {
      "type": "object",
      "properties": {
        "playerActivities": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "What players can do here"
        },
        "questsAvailable": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Types of quests originating here"
        },
        "servicesShops": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Services and shops available"
        },
        "fastTravel": {
          "type": "boolean",
          "description": "Can players fast travel here"
        },
        "unlockConditions": {
          "type": "string",
          "description": "When/how players unlock this location"
        }
      }
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "completionPercentage": {
      "type": "number",
      "minimum": 0,
      "maximum": 100
    },
    "lastModified": {
      "type": "string",
      "format": "date-time"
    },
    "contributors": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "status": {
      "type": "string",
      "enum": ["draft", "in-progress", "review", "complete", "locked"]
    },
    "notes": {
      "type": "string"
    }
  }
}
